<!DOCTYPE html>
<html>
  <head>
    <title>Crear Personaje</title>
    <link rel="stylesheet" href="./src/css/styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />
    <style>
     
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="header_logo">
          <a href="index.html">
            <img
              src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Rick_and_Morty.svg/1280px-Rick_and_Morty.svg.png"
              alt="Logo"
              title="logo"
            />
          </a>
        </div>
        <div class="header_categories_container">
          <div class="header_categories">
            <ul>
              <li class="heade_category"><a href="tuPersonaje.html">Tus Personajes</a></li>
              <li class="heade_category"><a href="CrearPersonaje.html">Crear personaje</a></li>
              <li class="heade_category">
                <a href="personajesFavoritos.html">Lista de Favoritos</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="form-container">
        <h1>Crear un Personaje</h1>
      <form class="personaje-form">
        <label for="name">Nombre:</label>
        <input type="text" class="input-field" name="name" required />

        <label for="gender">Género:</label>
        <select class="select-field" name="gender" required>
          <option value="Male">Masculino</option>
          <option value="Female">Femenino</option>
        </select>

        <label for="species">Especie:</label>
        <input type="text" class="input-field" name="species" required />

        <label for="image">Imagen:</label>
        <input type="text" class="input-field" name="image" required />

        <label for="status">Estado:</label>
        <select class="select-field" name="status" required>
          <option value="Alive">Vivo</option>
          <option value="Dead">Muerto</option>
        </select>

        <button type="submit" class="submit-button">Enviar</button>
      </form>
      </div>
    </div>

    <script>
      document
        .querySelector(".personaje-form")
        .addEventListener("submit", function (event) {
          event.preventDefault(); // Evita que se envíe el formulario de manera tradicional

          // Obtén los datos del formulario
          const formData = new FormData(this);
          // Realiza la solicitud POST al servidor
          fetch("http://localhost:4000/api/guardar-personaje", {
            method: "POST",
            body: JSON.stringify(Object.fromEntries(formData)),
            mode: "cors",
            headers: {
              "Content-Type": "application/json",
            },
          })
            .then((response) => response.json())
            .then((data) => {
              console.log(data); // Maneja la respuesta del servidor
            })
            .catch((error) => {
              console.error("Error al guardar el personaje:", error);
            });
        });
    </script>
  </body>
</html>
